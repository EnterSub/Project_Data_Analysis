ScreenManager:

    Screen:
        name: 'login'

        MDFloatLayout:
            md_bg_color: app.theme_cls.bg_light

        MDFloatLayout:
            md_bg_color: app.theme_cls.bg_light

            Image:
                source: "Login.gif"
                anim_delay: 1/24
                pos_hint: {"x": 0, "y": 0.23}

            MDLabel:
                text: "Authentication"
                pos_hint: {"center_x": .5, "center_y": .42}
                halign: "center"

            MDFloatLayout:
                size_hint_x: .95
                size_hint_y: None
                pos_hint: {"center_x": .5, "center_y": .35}

                MDTextField:
                    id: user
                    mode: "fill"
                    #normal_color: 1, 0, 0, 1
                    #color_active: 1, 0, 0, 1
                    hint_text: "Username"
                    size_hint_x: 1
                    size_hint_y: None
                    icon_right: "account"
                    pos_hint: {"center_x": .5, "center_y": .5}
                    height: self.minimum_height
                    multiline: False

            MDFloatLayout:
                size_hint_x: .95
                size_hint_y: None
                pos_hint: {"center_x": .5, "center_y": .26}

                MDTextField:
                    id: password
                    mode: "fill"
                    hint_text: "Password"
                    password: True
                    size_hint_x: 1
                    size_hint_y: None
                    icon_right: "key"
                    pos_hint: {"center_x": .5, "center_y": .5}
                    height: self.minimum_height
                    multiline: False

            MDTextButton:
                text: "Forgot your password?"
                pos_hint: {"center_x": .5, "center_y": .2}
                on_press: root.current = 'user_login'

            MDRoundFlatButton:
                text: "LOGIN"
                size_hint_x: .75
                size_hint_y: None
                pos_hint: {"center_x": .5, "center_y": .12}
                on_press: app.start()

            MDRoundFlatButton:
                text: "CLOSE"
                size_hint_x: .25
                size_hint_y: None
                pos_hint: {"center_x": .5, "center_y": 0.05}
                on_press: app.stop()

    Screen:
        name: 'user_login'

        MDLabel:
            text: "For more information write to contact list"
            halign: 'center'
            pos_hint: {"center_x": .5, "center_y": .5}

        MDRoundFlatButton:
            text: "Return"
            pos_hint: {'center_x':.5,'center_y':.4}
            on_press: root.current = 'login'

    Screen:
        name: 'error_schedule'

        MDLabel:
            text: f"Error during loading subjects, \n please check connection or schedule page"
            # How to call variable self.root.ids.textbox_week_number.text ?
            halign: 'center'
            pos_hint: {"center_x": .5, "center_y": .5}

        MDRoundFlatButton:
            text: "Return"
            pos_hint: {'center_x':.5,'center_y':.4}
            on_press: root.current = 'login'


    Screen:
        name: 'menu'

        MDFloatLayout:
            size_hint_x: .95
            size_hint_y: None
            pos_hint: {"center_x": .5, "center_y": .5}

            MDTextField:
                id: textbox
                mode: "fill"
                hint_text: "Enter group name"
                required: True
                helper_text: "Enter value for processing student activity data"
                helper_text_mode: "on_error"
                icon_right: "account-group"
                pos_hint: {'center_x': .5, 'center_y': .5}
                size_hint_x: 1
                size_hint_y: None
                multiline: False
                max_text_length: 10

        MDFloatLayout:
            size_hint_x: .95
            size_hint_y: None
            pos_hint: {"center_x": .5, "center_y": .35}

            MDTextField:
                id: textbox_week_number
                mode: "fill"
                hint_text: "Enter week number"
                required: False
                helper_text: "Enter value for processing student activity data"
                helper_text_mode: "on_error"
                icon_right: "calendar-blank"
                pos_hint: {'center_x': .5, 'center_y': .5}
                size_hint_x: 1
                size_hint_y: None
                multiline: False
                max_text_length: 2

        MDRoundFlatButton:
            text: "OK"
            pos_hint: {'center_x':.3,'center_y':.2}
            on_press: app.show_data()

        MDRoundFlatButton:
            text: "Back"
            pos_hint: {'center_x':.7,'center_y':.2}
            size_hint: None, None
            on_press: root.current = 'login'

    Screen:
        name: 'processing'

        MDLabel:
            text: 'Please provide images'
            halign: 'center'
            pos_hint: {"center_x": .5, "center_y": .6}

        MDFloatLayout:

            MDRoundFlatIconButton:
                text: "Open manager"
                pos_hint: {'center_x': .5, 'center_y': .5}
                on_press: app.file_manager_open()

        MDRoundFlatButton:
            text: 'Back'
            pos_hint: {'center_x':.4,'center_y':.1}
            on_press: root.current = 'menu'

        MDRoundFlatButton:
            text: "OK"
            pos_hint: {'center_x':.6,'center_y':.1}
            on_press:
                root.current = 'table'
                app.show_table()

    Screen:
        id: data_scr
        name: 'table'

    Screen:
        name: 'check'